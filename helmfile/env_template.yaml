global:
  projectName: PROJECT_NAME
  namespace: NAMESPACE
  storageClass: STORAGECLASS_PROVIDER
  kubeVersion: KUBE_VERSION
networking:
  ciliumCidr: CILIUM_CIDR
  masterIp: MASTER_NODE_IP
nodes:
  postgresql: POSTGRES_NODE_IP
  minio: MINIO_NODE_IP
  airflow: AIRFLOW_NODE_IP
monitoring:
  namespace: monitoring
  node: MONITORING_NODE
infra:
  node: INFRA_NODE
spark:
  node: SPARK_NODE
  jobNamespaces:
    - NAMESPACE
sparkConnect:
  enabled: true
  node: SPARK_NODE
  image:
    repository: spark
    tag: "4.0.1"
    pullPolicy: IfNotPresent
  service:
    port: 15002
  ingress:
    enabled: true
    className: nginx
    host: sparkconnect.local
    tlsSecret: ampere-tls
  minio:
    endpoint: "http://minio.NAMESPACE.svc.cluster.local:9000"
    region: us-east-1
    pathStyle: true
    ssl: false
    secretName: minio-creds
  ivy:
    enabled: true
    mountPath: /opt/spark/ivy

unityCatalog:
  enabled: true
  namespace: unity-catalog
  node: INFRA_NODE
  image:
    server:
      repository: unitycatalog/unitycatalog
      tag: main
      pullPolicy: IfNotPresent
    ui:
      repository: unitycatalog/unitycatalog-ui
      tag: main
      pullPolicy: IfNotPresent
  ingress:
    enabled: true
    className: nginx
    host: ucatalog.local
    tlsSecret: ""
  database:
    host: postgres-service
    port: 5432
    name: unity_catalog
    user: UNITY_CATALOG_DB_USER
    passwordSecretName: uc-postgres
    passwordSecretKey: password
    ssl:
      enabled: false
      mode: verify-full
  storage:
    modelRoot: s3://ampere-bronze
    bucketPath: s3://ampere-bronze
    region: us-east-1
    credentialsSecretName: uc-minio
  resources:
    server:
      requests:
        cpu: 250m
        memory: 512Mi
      limits:
        cpu: "1"
        memory: 1536Mi
    ui:
      requests:
        cpu: 250m
        memory: 768Mi
      limits:
        cpu: "1"
        memory: 2Gi
ivyCache:
  name: IVY_CACHE_NAME
  size: 10Gi
  storageClass: ivy-cache-rwx
  accessMode: ReadWriteMany
  mountPath: /opt/spark/ivy
  node: ""
  loader:
    enabled: true
    image: busybox:1.36
  bootstrap:
    enabled: true
    image: curlimages/curl:8.7.1
    ttlSecondsAfterFinished: 600
    urls:
      - JAR_URL

ivyCacheNfs:
  enabled: true
  size: 10Gi
  storageClass: ivy-cache-rwx
  backingStorageClass: STORAGECLASS_PROVIDER
  node: INFRA_NODE

airflow:
  gitRepo: "CUSTOM REPO: custom_images\airflow"
  host: "http://airflow.local"
  node: AIRFLOW_NODE
  workerServiceAccount: AIRFLOW_WORKER_SERVICE_ACCOUNT
  image:
    repository: CONTAINER_REGISTRY_ADDRESS
    tag: TAG
    pullPolicy: Always
    pullSecret: GHCR_PULL_SECRET

minio:
  node: MINIO_NODE
  release: RELEASE.2025-09-07T16-13-09Z-cpuv1
  s3_endpoint: "s3.minio.local"
  server_url: "https://s3.minio.local"
  repo: quay.io/minio/minio

postgresql:
  host: postgres-service
  port: 5432
  node: POSTGRES_NODE
  image:
    repository: postgres
    tag: 16
    pullPolicy: IfNotPresent
  airflowUser: airflow_user
  airflowDatabase: airflow_db
  operationalUser: OPERATIONAL_USER
  operationalDatabase: OPERATIONAL_DB
  tls:
    enabled: false
  access:
    allowedCidrs:
      - CLUSTER_POD_CIDR
      - LAN_CIDR
      - TAILSCALE_CIDR

externalSecrets:
  secretName: azure-kv-sp
  storeName: azure-kv

ingress:
  className: nginx
  controller:
    httpNodePort: 30080
    httpsNodePort: 30443
    tcpNodePorts:
      postgres: 32432
      minio: 30090
  hosts:
    airflow: airflow.local
    minio: minio.local
    postgres: postgres.local
    grafana: grafana.local
    sparkconnect: sparkconnect.local
    ucatalog: ucatalog.local
  tls:
    caIssuerName: local-ca
    caSecretName: local-ca
    sharedSecret: ampere-tls
    bootstrap:
      enabled: false
